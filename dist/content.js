function h(){const s=[];return document.querySelectorAll("div.card-wrapper[data-card-id]").forEach((e,r)=>{var i;try{const o=e.getAttribute("data-card-id")||`slide-${r}`,c=e.querySelector('.node-heading .heading [data-node-view-content-inner="heading"]'),u=c&&((i=c.textContent)==null?void 0:i.trim())||"",a=[];e.querySelectorAll(".node-paragraph, .node-image, .node-link").forEach(n=>{var l;if(n.classList.contains("node-paragraph"))a.push(((l=n.textContent)==null?void 0:l.trim())||"");else if(n.classList.contains("node-image")){const t=n.querySelector("img");t&&t.src&&a.push(`[Image: ${t.src}]`)}else if(n.classList.contains("node-link")){const t=n.querySelector("a");t&&t.href&&a.push(`[Link: ${t.href}]`)}}),s.push({id:o,title:u,content:a,order:r,level:0})}catch(o){console.warn("Failed to extract slide",r,o)}}),s}function p(){let s=0;new MutationObserver(()=>{const e=document.querySelectorAll("div.card-wrapper[data-card-id]");if(e.length&&e.length!==s){s=e.length;const r=h();console.log("Extracted Gamma slides:",r),chrome.runtime.sendMessage({type:"GAMMA_SLIDES",slides:r})}}).observe(document.body,{childList:!0,subtree:!0})}window.location.hostname.endsWith("gamma.app")&&p();
